apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "node-observer.fullname" . }}
  labels:
    {{- include "node-observer.labels" . | nindent 4 }}
data:
  node-observer-config.yaml: |-
    topology_generator_url: "http://{{ include "topograph.service.name" $ }}.{{ .Release.Namespace }}.svc.cluster.local:{{ .Values.global.service.port }}/v1/generate"
    params:
      {{- toYaml .Values.global.engineParams | nindent 6 }}
    trigger:
      {{- toYaml .Values.topograph.trigger | nindent 6 }}
